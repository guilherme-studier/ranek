{"remainingRequest":"C:\\Users\\Thiago\\Desktop\\cursos\\origamid\\vue\\projetos\\projeto-ranek\\ranek\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Thiago\\Desktop\\cursos\\origamid\\vue\\projetos\\projeto-ranek\\ranek\\src\\components\\ProdutoAdicionar.vue?vue&type=style&index=0&id=b09b38da&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Thiago\\Desktop\\cursos\\origamid\\vue\\projetos\\projeto-ranek\\ranek\\src\\components\\ProdutoAdicionar.vue","mtime":1553017500000},{"path":"C:\\Users\\Thiago\\Desktop\\cursos\\origamid\\vue\\projetos\\projeto-ranek\\ranek\\node_modules\\css-loader\\index.js","mtime":1656262833357},{"path":"C:\\Users\\Thiago\\Desktop\\cursos\\origamid\\vue\\projetos\\projeto-ranek\\ranek\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1656262834291},{"path":"C:\\Users\\Thiago\\Desktop\\cursos\\origamid\\vue\\projetos\\projeto-ranek\\ranek\\node_modules\\postcss-loader\\src\\index.js","mtime":1626225855623},{"path":"C:\\Users\\Thiago\\Desktop\\cursos\\origamid\\vue\\projetos\\projeto-ranek\\ranek\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656262833352},{"path":"C:\\Users\\Thiago\\Desktop\\cursos\\origamid\\vue\\projetos\\projeto-ranek\\ranek\\node_modules\\vue-loader\\lib\\index.js","mtime":1656262834291}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.adicionar-produto {\n  display: grid;\n  grid-template-columns: 100px 1fr;\n  align-items: center;\n  margin-bottom: 60px;\n}\n\n.btn {\n  grid-column: 2;\n}\n",{"version":3,"sources":["ProdutoAdicionar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"ProdutoAdicionar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <form class=\"adicionar-produto\">\n    <label for=\"nome\">Nome</label>\n    <input id=\"nome\" name=\"nome\" type=\"text\" v-model=\"produto.nome\">\n    <label for=\"preco\">Preço (R$)</label>\n    <input id=\"preco\" name=\"preco\" type=\"number\" v-model=\"produto.preco\">\n    <label for=\"fotos\">Fotos</label>\n    <input id=\"fotos\" name=\"fotos\" type=\"file\" multiple ref=\"fotos\">\n    <label for=\"preco\">Descrição</label>\n    <textarea id=\"preco\" name=\"preco\" v-model=\"produto.descricao\"></textarea>\n    <input class=\"btn\" type=\"button\" value=\"Adicionar Produto\" @click.prevent=\"adicionarProduto\">\n  </form>\n</template>\n\n<script>\nimport { api } from \"@/services.js\";\n\nexport default {\n  name: \"ProdutoAdicionar\",\n  data() {\n    return {\n      produto: {\n        nome: \"\",\n        preco: \"\",\n        descricao: \"\",\n        fotos: null,\n        vendido: \"false\"\n      }\n    };\n  },\n  methods: {\n    formatarProduto() {\n      const form = new FormData();\n\n      const files = this.$refs.fotos.files;\n      for (let i = 0; i < files.length; i++) {\n        form.append(files[i].name, files[i]);\n      }\n\n      form.append(\"nome\", this.produto.nome);\n      form.append(\"preco\", this.produto.preco);\n      form.append(\"descricao\", this.produto.descricao);\n      form.append(\"vendido\", this.produto.vendido);\n      form.append(\"usuario_id\", this.$store.state.usuario.id);\n\n      return form;\n    },\n    async adicionarProduto(event) {\n      const produto = this.formatarProduto();\n\n      const button = event.currentTarget;\n      button.value = \"Adicionando...\";\n      button.setAttribute(\"disabled\", \"\");\n\n      await api.post(\"/produto\", produto);\n      await this.$store.dispatch(\"getUsuarioProdutos\");\n\n      button.removeAttribute(\"disabled\");\n      button.value = \"Adicionar Produto\";\n    }\n  }\n};\n</script>\n\n<style scoped>\n.adicionar-produto {\n  display: grid;\n  grid-template-columns: 100px 1fr;\n  align-items: center;\n  margin-bottom: 60px;\n}\n\n.btn {\n  grid-column: 2;\n}\n</style>\n"]}]}